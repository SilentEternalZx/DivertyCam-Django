{% extends 'registration/layout.html' %}
{% load static  %}

{% block title %}
Contraseña restablecida
{% endblock %}



{% block container %}
<div class="reset-main">
    <div class="reset-container">
        <div class="reset-form-side">
            <div class="comeback-button">
                <a href="{% url 'login' %}">← Ir a iniciar sesión</a>
            </div>
            <div class="reset-form" style="align-items:center;">
                <h1 class="reset-title" style="color:#0c782c;">¡Contraseña restablecida!</h1>
                <p class="reset-desc" style="margin-bottom:1.8rem;">
                    Tu contraseña se ha cambiado correctamente.<br>
                    Ahora puedes iniciar sesión con tu nueva contraseña.<br>
                    <br>
                    <span id="countdown-text">Redirigiendo en <b>5</b> segundos...</span>
                </p>
                <div style="display:flex; justify-content:center; margin-bottom:1.2rem;">
                    <img src="{% static 'assets/icons/padlock.png' %}" alt="Contraseña restablecida" style="width:70px;height:70px;">
                </div>
            </div>
        </div>
        <div class="reset-shape-side">
            <div class="shape-content">
                <h2>¡Listo!</h2>
                <p>Puedes iniciar sesión de inmediato.<br>
                ¡Recuerda no compartir tu contraseña con nadie!</p>
            </div>
        </div>
    </div>
</div>

<script>
    // Cuenta regresiva para redirigir al login
    let tiempo = 5;
    const destino = "{% url 'login' %}";
    const texto = document.getElementById('countdown-text');
    const intervalo = setInterval(() => {
      tiempo--;
      if(texto) texto.innerHTML = `Redirigiendo en <b>${tiempo}</b> segundos...`;
      if (tiempo < 1) {
        clearInterval(intervalo);
        window.location.href = destino;
      }
    }, 1000);
</script>
{% endblock %}